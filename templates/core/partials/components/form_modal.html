{% load widget_tweaks %}
<div @keydown.window.escape="openForm = false"
     x-show="openForm"
     x-transition:enter="ease-out duration-1000"
     x-transition:enter-start="opacity-0"
     x-transition:enter-end="opacity-100"
     x-transition:leave="ease-in duration-200"
     x-transition:leave-start="opacity-100"
     x-transition:leave-end="opacity-0"
     x-description="Background backdrop, show/hide based on modal state."
     class="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity">
  <div class="fixed inset-0 z-50 overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <div x-show="openForm"
           x-transition:enter="ease-out duration-1000"
           x-transition:enter-start="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
           x-transition:enter-end="opacity-100 translate-y-0 sm:scale-100"
           x-transition:leave="ease-in duration-200"
           x-transition:leave-start="opacity-100 translate-y-0 sm:scale-100"
           x-transition:leave-end="opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"
           x-description="Modal panel, show/hide based on modal state."
           class="relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"
           @click.away="openForm = false">
        <div>
          <div class="mt-3 text-center sm:mt-5">
            <h3 class="text-lg font-medium leading-6 text-gray-900" id="modal-title">Formulaire Commercial</h3>
            {% with WIDGET_ERROR_CLASS="is-invalid" %}
              <form method="post"
                    enctype="multipart/form-data"
                    action="{{ request.path }}">
                {% csrf_token %}
                <div class="grid grid-cols-3 gap-2 mt-2">
                  <div class="col-span-1">
                    <label for="{{ form.prenom.id_for_label }}"
                           class="block text-sm font-medium text-gray-700">{{ form.prenom.label }}</label>
                    {% render_field form.prenom type="text" name="first-name" id="first-name" autocomplete="given-name" class="h-8 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %}
                  </div>
                  <div class="col-span-1">
                    <label for="{{ form.nom.id_for_label }}"
                           class="block text-sm font-medium text-gray-700">{{ form.nom.label }}</label>
                    {% render_field form.nom type="text" name="first-name" id="first-name" autocomplete="given-name" class="h-8 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %}
                  </div>
                  <div class="col-span-1">
                    <label for="{{ form.telephone.id_for_label }}"
                           class="block text-sm font-medium text-gray-700">{{ form.telephone.label }}</label>
                    {% render_field form.telephone class="h-8 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" placeholder="06 XX XX XX XX" %}
                  </div>
                  <div class="col-span-1">
                    <label for="{{ form.ville.id_for_label }}"
                           class="block text-sm font-medium text-gray-700">{{ form.ville.label }}</label>
                    {% render_field form.ville class="h-8 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %}
                  </div>
                  <div class="col-span-1">
                    <label for="{{ form.email.id_for_label }}"
                           class="block text-sm font-medium text-gray-700">{{ form.email.label }}</label>
                    {% render_field form.email class="h-8 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" %}
                  </div>
                  <div class="col-span-1">
                    <label for="{{ form.commission_pourcentage.id_for_label }}"
                           class="block text-sm font-medium text-gray-700">Commission</label>
                    {% render_field form.commission_pourcentage class="h-8 mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm" placeholder="0.25" %}
                  </div>
                </div>
                <div class="mt-5 sm:mt-6 sm:grid sm:grid-flow-row-dense sm:grid-cols-2 sm:gap-3">
                  <button type="submit"
                          class="inline-flex w-full justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:col-start-2 sm:text-sm"
                          @click="openForm = false">Enregister</button>
                  <button type="button"
                          class="mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:col-start-1 sm:mt-0 sm:text-sm"
                          @click="openForm = false">Annuler</button>
                </div>
              </form>
            {% endwith %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
